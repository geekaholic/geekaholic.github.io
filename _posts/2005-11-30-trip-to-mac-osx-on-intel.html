---
layout: post
title: A Trip to Mac OSX on Intel
date: '2005-11-30T11:20:00.000-06:00'
author: geekaholic
tags: 
modified_time: '2005-11-30T15:09:12.633-06:00'
blogger_id: tag:blogger.com,1999:blog-8947964.post-113338375352873928
blogger_orig_url: https://www.geekaholic.org/2005/11/trip-to-mac-osx-on-intel.html
---

<center><img src="http://static.flickr.com/34/68746702_09bb5ea8e6_m.jpg" width="240" height="192" alt="bootscreen" /></center><br />Its been a long obsession ever since I heard the existence of the x86 port. Unless you've been living under a rock (or an msn umbrella), chances are that you have heard about Apple's decision to dump the powerpc architecture in favor of Intel. You might also have heard that the developer version (was/had been) leaked (by apple?). Anyway, I wanted to get my hands on this baby; not only to satisfy my curiosity, but also to see what the competition was like. <br /><br />Sure the MacOS X is going to slaughter any short or long horn that will come its way, but could it also hurt some desktop GNU/Linux deployments in the short term atleast?<br /><br />Well after a couple of unsuccessful attempts, we (yes we!), managed to convert the dmg image to an iso(dvd) image and then burn it. Unfortunately it turned out that MacOSX refused to install after complaining the hardware wasn't supported. After trying several notebooks and desktops, it was obvious that none of the hardware we could find was supported -- or so we thought!<br /><br />A bit of research on <a href="http://www.google.com">google</a> <a href="http://wiki.osx86project.org/wiki/index.php/Main_Page">revealed</a> that this edition indeed required a binary patch to make it work on any machine other than the one Apple had provided its developers with. So after a 143MB or so download, I was left with a binary patch that used a windoze binary patch tool called <a href="http://www.paradogs.com/pdx_ppf3.htm">ppf-o-matic</a>. "Hmm windoze, now where can I find one of those", I thought to myself. Investigation of the tool's website turned up a Mac OS version, which after trying on a friends iBook, failed with a crash. The recently released java version too couldn't cope with 4GB+ iso image. Being somewhat skeptical, I tried the windoze patch tool with <a href="http://winehq.com">wine</a>, the FOSS windoze emulator, to find that it worked great.<br /><br />Everything was going well - the md5sums matched as published on many howtos. Once the dvd was burned, I tried booting it off to be greeted with a beautiful installer.<br /><br /> <a href="http://www.flickr.com/photos/64179753@N00/68746789/" title="Installer welcome"><img src="http://static.flickr.com/20/68746789_d1f0c09e3c_m.jpg" width="240" height="192" alt="installer_welcome" align="left"  hspace="5"/></a> <a href="http://sanjaya.8k.com/">Sanjaya</a> helped me with the initial bits of the Mac installation, but it looked like I was going to loose my data - the installer didn't know how to resize my Linux partitions. So I booted off from the <a href="http://www.taprobane.org">Taprobane LiveCD</a> and ran qtparted to resize my partitions. I discovered that wasn't going to work either as QTparted didn't allow it. Just then I remembered a page from the <a href="http://www.tldp.org/HOWTO/LVM-HOWTO/">LVM howto</a> about having to manually resize the filesystem before resizing the physical partition.<br /><br />So I fired up a shell and typed:<br /><br /><code><br />  resize_reiserfs -s -12G /dev/hda1<br /></code> <br /><br />which basically said to shrink my reiserfs root (/) partition by 12 GB. Again I ran Qtparted, now hoping to be able to resize the physical device, but again I found that option wasn't available. The alternative left was scary - to use fdisk/cfdisk to delete the partition and recreate it while the data stays in tact! Oh boy! was I heading for disaster and I'd be foolish not to do some sort of back up, which I did. <br /><br />So without thinking twice, I deleted /dev/hda1 partition and recreated it starting from the same location (beginning of the hard drive) but spanning only 2GB more than the size of the filesystem.<br /><br />Then I  resized the file system to grow back to fill the 2GB gap in the physical file system.<br /><br /><code><br /> resize_reiserfs /dev/hda1<br /></code><br /><br /><a href="http://www.flickr.com/photos/64179753@N00/68746732/" title="erase_disk"><img src="http://static.flickr.com/12/68746732_ca9c249fb3_m.jpg" width="240" height="197" alt="erase_disk" align="left" hspace="5" /></a> Once again, I rebooted onto the Mac installer and found that it still couldn't install on to the free disk space without removing the current Linux / partition. So once again, I found myself inside the LiveCD trying to fix things from Linux. Again I fired up my shell and ran cfdisk to create the MacOSX partition and set FS_Type_ID to Hex AF (which by the way cfdisk has no idea about).<br /><br />Now this time when I booted into the Mac installer, it detected the presence of the partition and allowed me to format it without deleting the Linux partitions. From this point onwards, the installation was a breeze.<br /><br /><a href="http://www.flickr.com/photos/64179753@N00/68746751/" title="Install"><img src="http://static.flickr.com/9/68746751_4dd22438cb_m.jpg" width="240" height="185" alt="install" /></a> <a href="http://www.flickr.com/photos/64179753@N00/68746774/" title="Installing"><img src="http://static.flickr.com/9/68746774_1cf3fb0836_m.jpg" width="240" height="180" alt="install2" /></a><br /><br />After installing, it turns out that the installer hadn't installed any boot loader at the MBR, as I was still left with GRUB. After a trial and error, I discovered that with the installation DVD in place, if I don't press any key then it would boot the installed MacOSX as opposed to running the installer.<br /><br />By this time there was a small crowd looking over my shoulder at the beautiful and speedy Tiger desktop that lay before our eyes.<br /><br /><a href="http://www.flickr.com/photos/64179753@N00/68746718/" title="Desktop"><img src="http://static.flickr.com/34/68746718_3afa4cdd61_m.jpg" width="240" height="183" alt="desktop" align="left" hspace="5"/></a> It was late, and time to go home (from office) so I rushed home hoping to try to install the OS on my AMD64 barebone. Unfortunately, it seemed the installer cannot detected my SATA hard drive for some reason even though I remember seeing the Nvidia chipset as supported.<br /><br />Afterwards, which I managed to get working, I also managed to get GRUB to boot MacOS directly on the IBM Thinkpad, without the need to bootstrap via the DVD installer.<br /><br />After a few hours of using MacOSX x86 version, I admit that I am impressed. Not only of the extremely user-friendly GUI that's covered with eye candy, but also because the OS seems very responsive and feels light-weight even with all those effects. I am not sure what it is - whether its the free & opensource Darwin micro kernel, or the non-free & proprietary x-window like system, it feels fast!