---
layout: post
title: Getting a Lanka Bell CDMA working on Linux
date: '2006-06-26T00:03:00.000-05:00'
author: geekaholic
tags: 
modified_time: '2006-06-27T13:09:17.240-05:00'
blogger_id: tag:blogger.com,1999:blog-8947964.post-115129992816730198
blogger_orig_url: https://www.geekaholic.org/2006/06/getting-lanka-bell-cdma-working-on.html
---

Thought of bloggin on the topic as I am constantly asked about the topic. Its not that difficult to get the Bell CDMA phone working most of the time. If you have the hotplug or hald running as soon as you plugin the phone to the USB port it should get detected and the proper driver loaded.<br /><br />This is how you can check if the driver was loaded properly:<br /><br />Type dmesg and check the end of the output you should see something that says the ti_usb_3410 driver was loaded successfully.<br /><br /><code><br /># dmesg<br />ti_usb_3410_5052 2-1:2.0: TI USB 3410 1 port adapter converter detected<br /></code><br /><br />You can also check that the driver was loaded by using lsmod. The dmesg output should also tell you the USB serial port that the driver has bind itself to. (Usually /dev/ttyUSB0)<br /><code><br /># lsmod|grep ti_usb_3410<br /></code><br />Also make sure that the proper ppp modules have been loaded, or else you will notice that the dialer will not be able to connect to the ISP.<br /><code><br /># lsmod|grep ppp<br /><br />ppp_generic<br />ppp_async<br />ppp_deflate<br /></code><br />To connect, I'd recommend using wvdial with stupid mode. I'm not sure if any other dialers support the stupid mode. Create the wvdial.conf script as follows.<br /><code><br /># vi /etc/wvdial.conf<br /><br />[Dialer Defaults]<br />Init = ATZ<br /><br />[Dialer BellNet]<br />Modem = /dev/ttyUSB0<br />Phone = #777<br />Baud = 230400<br />Init1 = ATZ<br />Stupid Mode = 1<br />Dial Command = ATDT<br />Username = your_user_name<br />Password = your_password<br /></code><br />Your ready to dial.<br /><code><br /># wvdial BellNet<br /></code><br />At this point, I find that sometimes the driver is unable to activate the phone's modem unless you pick up the handset and set it down. This isn't always the case but most of the time wvdial gives up because it doesn't get any respose from the modem.<br /><br />If by any chance you are having trouble with the driver when you look at the dmesg output then usually upgrading the kernel to the latest should help. Otherwise you could try downloading the old driver for 2.6 and installing it manually (you need to have the kernel source)<br /><br /><a href="http://gate.brimson.com/downloads/ti_usb-0.3-1.tgz">http://gate.brimson.com/downloads/ti_usb-0.3-1.tgz</a><br /><br />Thats it!